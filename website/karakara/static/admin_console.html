<!DOCTYPE html>
<html>

    <head>
        <title>KaraKara Admin Console</title>
        <style>
            body {
                margin: 0;
                padding: 0;

                display: flex;
                flex-direction: row;
                flex-wrap: nowrap;
                align-items: stretch;
                align-content: stretch;
                justify-content: space-between;
            }
            iframe {
                border: 0;
                flex-grow: 1;
                height: 100vh;
            }
        </style>
        <script type="text/javascript">
            function getUrlParameter(sParam) {
                //http://stackoverflow.com/questions/19491336/get-url-parameter-jquery
                // TODO: ES6 this
                var sPageURL = window.location.search.substring(1);
                var sURLVariables = sPageURL.split('&');
                for (var i = 0; i < sURLVariables.length; i++) {
                    var sParameterName = sURLVariables[i].split('=');
                    if (sParameterName[0] == sParam) {
                        return decodeURIComponent(sParameterName[1]);
                    }
                }
                return '';
            }
        </script>
    </head>

    <body>
        <script type="text/javascript">
            const queue_id = getUrlParameter('queue_id');
            if (!queue_id) {alert('queue_id query string param required');}
            for (var path of ['queue_items', 'remote_control', 'search_tags']) {
                const iframe = document.createElement('iframe');
                iframe.src = `/queue/${queue_id}/${path}`;
                document.body.appendChild(iframe);
            }
        </script>
    </body>

</html>
